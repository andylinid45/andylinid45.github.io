<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Production | Andy Lin]]></title>
  <link href="http://andylinid45.github.io/blog/categories/production/atom.xml" rel="self"/>
  <link href="http://andylinid45.github.io/"/>
  <updated>2021-06-19T23:27:06+08:00</updated>
  <id>http://andylinid45.github.io/</id>
  <author>
    <name><![CDATA[Andy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Setup Kms]]></title>
    <link href="http://andylinid45.github.io/blog/2021/06/19/setup-kms/"/>
    <updated>2021-06-19T23:19:13+08:00</updated>
    <id>http://andylinid45.github.io/blog/2021/06/19/setup-kms</id>
    <content type="html"><![CDATA[<p>Server
<code>
git clone https://github.com/SystemRage/py-kms.git
cd py-kms/py-kms/
nohup python3 pykms_Server.py &amp;
</code></p>

<p>in windows
```
// change your key in the page <a href="https://py-kms.readthedocs.io/en/latest/Keys.html#windows">https://py-kms.readthedocs.io/en/latest/Keys.html#windows</a>
cd C:\Windows\system32>
C:\Windows\system32>slmgr /ipk BB6NG-PQ82V-VRDPW-8XVD2-V8P66
C:\Windows\system32>slmgr /skms 10.8.0.1
C:\Windows\system32>slmgr /ato</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup TCP Tunnel]]></title>
    <link href="http://andylinid45.github.io/blog/2020/06/29/setup-tcp-tunnel/"/>
    <updated>2020-06-29T05:52:01+08:00</updated>
    <id>http://andylinid45.github.io/blog/2020/06/29/setup-tcp-tunnel</id>
    <content type="html"><![CDATA[<p>Server
```
sudo snap install go &mdash;classic
go get -v github.com/jpillora/chisel</p>

<p>crontab -e
@reboot /root/go/bin/chisel server -p 9312 &mdash;socks5 &mdash;pid -v &mdash;key supperkey &mdash;auth user:pass &amp;</p>

<h1>change your supperkey, user and pass</h1>

<p>```</p>

<p>Client
```
sudo snap install go &mdash;classic
go get -v github.com/jpillora/chisel
~/go/bin/chisel client -fingerprint 12:34:56 &mdash;auth user:pass vps:9312 socks</p>

<h1>change your fingerprint, user and pass</h1>

<h1>Point your SOCKS5 clients (e.g. OS/Browser) to:  localhost:1080</h1>

<p>```</p>

<p>socks5.sh in ubuntu
```
gsettings set org.gnome.system.proxy mode &lsquo;manual&rsquo;
gsettings set org.gnome.system.proxy.socks host &lsquo;localhost&rsquo;
gsettings set org.gnome.system.proxy.socks port 1080
gsettings set org.gnome.system.proxy ignore-hosts &ldquo;[&lsquo;localhost&rsquo;, &lsquo;127.0.0.0/8&rsquo;, &lsquo;::1&rsquo;]&rdquo;</p>

<p>finish() {
  echo &lsquo;  Trapped Ctrl-C, socks5 down!&rsquo;
  gsettings set  org.gnome.system.proxy mode &lsquo;none&rsquo;
}</p>

<p>trap finish EXIT</p>

<p>~/go/bin/chisel client -fingerprint 12:34:56 &mdash;auth user:pass -v vps:9312 socks
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup Wireguard]]></title>
    <link href="http://andylinid45.github.io/blog/2020/04/17/setup-wireguard/"/>
    <updated>2020-04-17T01:23:51+08:00</updated>
    <id>http://andylinid45.github.io/blog/2020/04/17/setup-wireguard</id>
    <content type="html"><![CDATA[<p>```</p>

<h1>install wireguard server in ubuntu 18</h1>

<p><a href="https://github.com/l-n-s/wireguard-install">https://github.com/l-n-s/wireguard-install</a>
```</p>

<p>```</p>

<h1>client side config</h1>

<h1>copy config file to /etc/wireguard/mywg.conf</h1>

<p>sudo wg-quick up mywg<br/>
sudo wg show</p>

<h1>sudo wg-quick down mywg</h1>

<p>```</p>

<p>```</p>

<h1>wireguard is faster than openvpn</h1>

<p><a href="https://github.com/pirate/wireguard-docs">https://github.com/pirate/wireguard-docs</a>
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup Openvpn]]></title>
    <link href="http://andylinid45.github.io/blog/2020/04/16/setup-openvpn/"/>
    <updated>2020-04-16T22:35:03+08:00</updated>
    <id>http://andylinid45.github.io/blog/2020/04/16/setup-openvpn</id>
    <content type="html"><![CDATA[<p>```</p>

<h1>install in ubuntu 18 server</h1>

<p><a href="https://github.com/angristan/openvpn-install">https://github.com/angristan/openvpn-install</a></p>

<p>```</p>

<p>```</p>

<h1>install client in osx 10.9</h1>

<p><a href="https://tunnelblick.net/">https://tunnelblick.net/</a>
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Postfix in Ubuntu]]></title>
    <link href="http://andylinid45.github.io/blog/2014/12/22/postfix-in-ubuntu/"/>
    <updated>2014-12-22T21:21:14+08:00</updated>
    <id>http://andylinid45.github.io/blog/2014/12/22/postfix-in-ubuntu</id>
    <content type="html"><![CDATA[<h3>outgoing mail</h3>

<p><code>
sudo apt-get install postfix
</code></p>

<h3>test outgoing mail</h3>

<p><code>
echo "My test email sent from sendmail" | /usr/sbin/sendmail  your_gmail@gmail.com
</code></p>

<h3>incomming mail</h3>

<p>setup MX record in DNS, point to your VPS ip or domain name</p>

<h3>test MX record</h3>

<p><code>
dig mx your_domain.com
</code></p>

<p>and now you can send mail to <a href="&#109;&#x61;&#105;&#x6c;&#116;&#111;&#58;&#x79;&#x6f;&#x75;&#x72;&#x5f;&#x61;&#x63;&#x63;&#x6f;&#117;&#x6e;&#x74;&#95;&#x6e;&#97;&#109;&#x65;&#x5f;&#x69;&#x6e;&#x5f;&#x76;&#x70;&#x73;&#x40;&#121;&#x6f;&#117;&#114;&#x5f;&#100;&#111;&#109;&#x61;&#x69;&#x6e;&#x2e;&#99;&#111;&#109;">&#121;&#x6f;&#x75;&#114;&#x5f;&#x61;&#x63;&#99;&#111;&#117;&#x6e;&#116;&#x5f;&#110;&#x61;&#x6d;&#x65;&#x5f;&#x69;&#x6e;&#95;&#118;&#x70;&#x73;&#x40;&#121;&#111;&#117;&#114;&#x5f;&#x64;&#x6f;&#109;&#97;&#x69;&#x6e;&#46;&#99;&#x6f;&#109;</a> , and other mail address will be rejected</p>

<h3>add mail forward to your gmail (usefull for small business if you don&rsquo;t want to buy &ldquo;Google App&rdquo; for managing your mail box)</h3>

<p><code>
sudo nano /etc/postfix/main.cf
</code></p>

<p>add
<code>
virtual_alias_maps = hash:/etc/postfix/virtual
</code></p>

<p><code>
sudo nano  /etc/postfix/virtual
</code>
add
<code>
your_new_mail_address@your_domain.com  your_gmail@gmail.com
</code></p>

<p>and restart at last
<code>
sudo postmap /etc/postfix/virtual
sudo /etc/init.d/postfix restart
</code></p>

<p>log file in
<code>
/var/log/mail.err
/var/log/mail.log
</code></p>

<h3>add a new domain mail box to your vps</h3>

<p><code>
sudo nano /etc/postfix/main.cf
</code>
add the domain to
<code>
mydestination
</code></p>

<p>also modify the /etc/postfix/virtual to add mail address like above, so your mail will forward to your gmail rather than go to you VPS local file</p>
]]></content>
  </entry>
  
</feed>
