<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Production | Andy Lin]]></title>
  <link href="http://andylinid45.github.io/blog/categories/production/atom.xml" rel="self"/>
  <link href="http://andylinid45.github.io/"/>
  <updated>2015-09-20T15:40:14+08:00</updated>
  <id>http://andylinid45.github.io/</id>
  <author>
    <name><![CDATA[Andy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Postfix in Ubuntu]]></title>
    <link href="http://andylinid45.github.io/blog/2014/12/22/postfix-in-ubuntu/"/>
    <updated>2014-12-22T21:21:14+08:00</updated>
    <id>http://andylinid45.github.io/blog/2014/12/22/postfix-in-ubuntu</id>
    <content type="html"><![CDATA[<h3>outgoing mail</h3>

<p><code>
sudo apt-get install postfix
</code></p>

<h3>test outgoing mail</h3>

<p><code>
echo "My test email sent from sendmail" | /usr/sbin/sendmail  your_gmail@gmail.com
</code></p>

<h3>incomming mail</h3>

<p>setup MX record in DNS, point to your VPS ip or domain name</p>

<h3>test MX record</h3>

<p><code>
dig mx your_domain.com
</code></p>

<p>and now you can send mail to <a href="&#109;&#97;&#105;&#x6c;&#x74;&#111;&#58;&#x79;&#111;&#117;&#114;&#x5f;&#97;&#99;&#x63;&#x6f;&#x75;&#x6e;&#x74;&#x5f;&#110;&#x61;&#x6d;&#x65;&#95;&#105;&#x6e;&#95;&#x76;&#112;&#x73;&#64;&#121;&#111;&#x75;&#x72;&#95;&#x64;&#x6f;&#109;&#97;&#x69;&#x6e;&#46;&#99;&#x6f;&#x6d;">&#x79;&#111;&#117;&#114;&#95;&#x61;&#x63;&#x63;&#x6f;&#117;&#x6e;&#x74;&#x5f;&#x6e;&#x61;&#x6d;&#x65;&#x5f;&#105;&#110;&#x5f;&#118;&#x70;&#x73;&#64;&#x79;&#x6f;&#117;&#x72;&#95;&#x64;&#111;&#109;&#x61;&#105;&#x6e;&#46;&#99;&#111;&#x6d;</a> , and other mail address will be rejected</p>

<h3>add mail forward to your gmail (usefull for small business if you don&rsquo;t want to buy &ldquo;Google App&rdquo; for managing your mail box)</h3>

<p><code>
sudo nano /etc/postfix/main.cf
</code></p>

<p>add
<code>
virtual_alias_maps = hash:/etc/postfix/virtual
</code></p>

<p><code>
sudo nano  /etc/postfix/virtual
</code>
add
<code>
your_new_mail_address@your_domain.com  your_gmail@gmail.com
</code></p>

<p>and restart at last
<code>
sudo postmap /etc/postfix/virtual
sudo /etc/init.d/postfix restart
</code></p>

<p>log file in
<code>
/var/log/mail.err
/var/log/mail.log
</code></p>

<h3>add a new domain mail box to your vps</h3>

<p><code>
sudo nano /etc/postfix/main.cf
</code>
add the domain to
<code>
mydestination
</code></p>

<p>also modify the /etc/postfix/virtual to add mail address like above, so your mail will forward to your gmail rather than go to you VPS local file</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu 14.04 Server Initial]]></title>
    <link href="http://andylinid45.github.io/blog/2014/10/27/ubuntu-14-dot-04-server-initial/"/>
    <updated>2014-10-27T00:01:07+08:00</updated>
    <id>http://andylinid45.github.io/blog/2014/10/27/ubuntu-14-dot-04-server-initial</id>
    <content type="html"><![CDATA[<p>login as root
```
adduser deploy</p>

<p>echo &lsquo;deploy ALL=(ALL) NOPASSWD: ALL&rsquo; |sudo tee -a /etc/sudoers</p>

<p>nano /etc/ssh/sshd_config</p>

<h1>edit two lines</h1>

<p>PermitRootLogin no
PasswordAuthentication no</p>

<p>service ssh restart  # do not use , no use /etc/init.d/ssh  restart</p>

<p>sudo apt-get update
sudo apt-get upgrade
```</p>

<p>in local
<code>
ssh-copy-id deploy@ip
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup PPTPServer in Ubuntu]]></title>
    <link href="http://andylinid45.github.io/blog/2014/09/27/setup-pptpserver-in-ubuntu/"/>
    <updated>2014-09-27T22:19:50+08:00</updated>
    <id>http://andylinid45.github.io/blog/2014/09/27/setup-pptpserver-in-ubuntu</id>
    <content type="html"><![CDATA[<p>all the same
<code>
https://help.ubuntu.com/community/PPTPServer
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install Transmission in Ubuntu Server]]></title>
    <link href="http://andylinid45.github.io/blog/2014/03/02/install-transmission-in-ubuntu-server/"/>
    <updated>2014-03-02T20:46:16+08:00</updated>
    <id>http://andylinid45.github.io/blog/2014/03/02/install-transmission-in-ubuntu-server</id>
    <content type="html"><![CDATA[<p>```
sudo apt-get install transmission-daemon</p>

<p>sudo service transmission-daemon stop</p>

<h1>modify setting after stop the service</h1>

<p>sudo nano /etc/transmission-daemon/settings.json</p>

<p>sudo service transmission-daemon start</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
